<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
          name="viewport">
    <meta content="ie=edge" http-equiv="X-UA-Compatible">
    <title>Client</title>
    <link href="css/freemarker.css" rel="stylesheet">
</head>

<body>
<main>

        <div class="container">
            <h1>Информация о сотруднике</h1>

            <div class="table flex flex-col">
                <div class="header flex">
                    <div class="column">
                        Имя
                    </div>
                    <div class="column">
                        Книги у сотрудника
                    </div>
                    <div class="column">
                        Вернуть книгу
                    </div>
                    <div class="column">
                        <a href="/exit">Выйти из аккаунта</a>
                    </div>



                </div>
                <#assign match = books?filter(b -> b.key == ((client.name)) + "/" + ((client.password))) >
                <#if match?has_content>
                <#list match as book>
                <div class="row flex success">
                    <div class="column">
                        <span class="">Логин: ${book.key?split("/")[0]}</span>
                    </div>
                    <div class="column">
                        <span class="no-wrap">  ${book.name}</span>
                    </div>
                    <div class="column">
                        <span class="no-wrap"><a href="/setBook/?bookName=${book.name}">положить книгу</a></span>
                    </div>

                </div>
            </#list>
            <#else>
            <div class="row flex success">
                <div class="column">
                    <span class="">Логин: ${client.name}</span>
                </div>
                <div class="column">
                </div>

            </div>
        </#if>
        </div>


    <div class="table flex flex-col">
        <div class="header flex">
            <div class="column">
                Доступные книги
            </div>
            <div class="column">
                <span class="no-wrap"></span>
            </div>
            <div class="column">
                Взять книгу
            </div>

        </div>
        <#assign match = books?filter(b -> b.key == ("")) >
        <#if match?has_content>
        <#list match as book>
        <div class="row flex success">
            <div class="column">
                <span class="">Доступная книга: </span>
            </div>
            <div class="column">
                <span class="no-wrap">${book.name}</span>
            </div>
            <div class="column">
                <span class="no-wrap"><a href="/getBook/?bookName=${book.name}">Взять книгу</a></span>
            </div>
        </div>
    </#list>
    <#else>
    <div class="row flex success">
        <div class="column">
            <span class="">Cейчас нет доступных книг}</span>
        </div>
        <div class="column">
        </div>
    </div>
</#if>

</div>

    </div>

</main>
</body>

</html>